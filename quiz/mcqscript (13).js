// Questions and Options Data
// Questions and Options Data
// Questions and Options Data
const questions = [
  {
    question: "नेपालको सबैभन्दा ठूलो भौगोलिक क्षेत्र कुन हो?",
    options: ["तराई", "पहाड़ी", "हिमाली", "मध्यान्ह"],
    correct: 1,
  },
  {
    question: "नेपालको सबैभन्दा उच्च पर्वत कुन हो?",
    options: ["सगरमाथा", "धौलागिरी", "अन्नपूर्ण", "कञ्चनजंगा"],
    correct: 0,
  },
  {
    question: "नेपालको सबैभन्दा ठूलो नदी कुन हो?",
    options: ["कोशी", "गण्डकी", "कर्णाली", "महाकाली"],
    correct: 0,
  },
  {
    question: "नेपालको प्रमुख जलवायु प्रकार के हो?",
    options: ["उष्णकटिबंधीय", "मध्यम", "समशीतोष्ण", "हिमाली"],
    correct: 3,
  },
  {
    question: "नेपालको हिमाली क्षेत्रको प्रमुख विशेषता के हो?",
    options: ["बर्फीला वातावरण", "गर्मी", "पानीको प्रचुरता", "वनस्पति"],
    correct: 0,
  },
  {
    question: "नेपालमा कितावका कस्ता वन्यजन्तु पाइन्छ?",
    options: ["बाघ", "सिंह", "भालू", "सार्वजनिक"],
    correct: 0,
  },
  {
    question: "नेपालको जंगलमा प्रचलित वनस्पति कुन हो?",
    options: ["चिउरी", "सागवान", "सिंह", "तुलसी"],
    correct: 1,
  },
  {
    question: "नेपालको प्रमुख नदी प्रणाली कुन हो?",
    options: ["कोशी", "गण्डकी", "सप्तकोशी", "महाकाली"],
    correct: 2,
  },
  {
    question: "नेपालको कुल भूमि क्षेत्रफल कति छ?",
    options: ["१३०,००० वर्ग किलोमिटर", "१,४७,५२० वर्ग किलोमिटर", "१,२०,५०० वर्ग किलोमिटर", "१,७०,००० वर्ग किलोमिटर"],
    correct: 1,
  },
  {
    question: "नेपालको भूगोलको प्रमुख विशेषता के हो?",
    options: ["दक्षिणी पर्वत", "उच्च हिमालय", "पानीको बहाव", "शुष्क भूमी"],
    correct: 1,
  },
  {
    question: "नेपालको ठूलो पर्वत क्षेत्र कुन हो?",
    options: ["हिमालय", "अन्नपूर्ण", "कञ्चनजंगा", "धौलागिरी"],
    correct: 0,
  },
  {
    question: "नेपालको प्रमुख भूमि प्रकार कुन हो?",
    options: ["तराई", "पहाड़ी", "पुर्वी", "मैदान"],
    correct: 0,
  },
  {
    question: "नेपालमा प्रमुख रूपमा पाइने वन प्रजाति के हो?",
    options: ["सागवान", "चिउरी", "पाइन", "कुहिरो"],
    correct: 1,
  },
  {
    question: "नेपालका प्रमुख कृषि उत्पादनहरू के के हुन्?",
    options: ["चामल, गहुँ, मकै", "चिउरी, गन्ना, तरकारी", "ज्वार, मकै, गहुँ", "बिरुवा, आलु, केरा"],
    correct: 0,
  },
  {
    question: "नेपालको सबैभन्दा ठूलो पर्वत कस्तो आकारमा छ?",
    options: ["कुहिरो", "चुङ्गो", "ढाल", "अन्नपूर्ण"],
    correct: 1,
  },
  {
    question: "नेपालको सगरमाथा पर्वत कहाँ स्थित छ?",
    options: ["सोलुखुम्बु", "झापा", "सिंहकान्धा", "काठमाण्डौ"],
    correct: 0,
  },
  {
    question: "नेपालमा कुन भू-आकृतिक क्षेत्र प्रचलित छ?",
    options: ["पहाड़ी भूगोल", "तराई भूगोल", "हिमाली भूगोल", "मैदान भूगोल"],
    correct: 0,
  },
  {
    question: "नेपालको हिमाली क्षेत्र कस्तो हो?",
    options: ["चिउरी बोट", "सागवान प्रजाति", "समृद्ध वन्यजीव", "बर्फीला"],
    correct: 3,
  },
  {
    question: "नेपालमा कुनै प्रमुख ताल पाइन्छ?",
    options: ["फेवाताल", "सिन्धुली ताल", "साधू पोखरी", "निशान पोखरी"],
    correct: 0,
  },
  {
    question: "नेपालको प्रमुख कृषि क्षेत्र कुन हो?",
    options: ["तराई", "सौर्य", "गंगा", "अन्न"],
    correct: 0,
  },
  {
    question: "नेपालको सबैभन्दा ठूलो ताल कुन हो?",
    options: ["रारा ताल", "पोखरा ताल", "फेवाताल", "काठमाडौँ ताल"],
    correct: 0,
  },
  {
    question: "नेपालमा पाइने प्रमुख जलजन्य प्रजाति के हो?",
    options: ["माछा", "उद्यमी", "काँटा", "वृक्ष"],
    correct: 0,
  },
  {
    question: "नेपालको भूगोलको प्रमुख विशेषता के हो?",
    options: ["हिमाल", "जलस्रोत", "कृषि", "कृषि"],
    correct: 1,
  },
  {
    question: "नेपालको प्रमुख समुद्र क्षेत्र कस्तो छ?",
    options: ["सागर", "ताल", "नदी", "तालिका"],
    correct: 2,
  },
  {
    question: "नेपालको प्रमुख जलप्रवाह कुन हो?",
    options: ["गण्डकी", "कर्णाली", "महाकाली", "कोशी"],
    correct: 3,
  },
  {
    question: "नेपालमा पाइने प्रमुख जलसम्पत्ति के हो?",
    options: ["जलविद्युत", "सौर्य", "पानी", "कोल"],
    correct: 2,
  },
  {
    question: "नेपालमा प्रमुख भू-आकृति कुन हो?",
    options: ["मैदान", "तराई", "हिमाली क्षेत्र", "हिमाल"],
    correct: 3,
  },
  {
    question: "नेपालका प्रमुख क्षेत्रीय जलवायु कुन हो?",
    options: ["हिमाली", "सागर", "वन", "पहाड़ी"],
    correct: 0,
  },
  {
    question: "नेपालमा पाइने प्रमुख स्थलाकृतिहरू कुन हुन्?",
    options: ["अन्नपूर्ण", "गण्डकी", "कर्णाली", "काठमान्डौ"],
    correct: 2,
  },
  {
    question: "नेपालको प्रमुख भू-प्रकृति के हो?",
    options: ["पानी", "कोलतार", "जलमूल", "कृषि"],
    correct: 1,
  },
  {
    question: "नेपालमा कति प्रमुख भौगोलिक क्षेत्र पाइन्छ?",
    options: ["३", "२", "४", "५"],
    correct: 0,
  },
  {
    question: "नेपालको प्रमुख जलमूल स्रोत के हो?",
    options: ["पानी", "उर्जा", "जलविद्युत", "गाउँ"],
    correct: 2,
  },
  {
    question: "नेपालको प्रमुख नदी कुन हो?",
    options: ["कोशी", "गण्डकी", "पार्वती", "महाकाली"],
    correct: 0,
  },
  {
    question: "नेपालको कुल जलधार कुन हो?",
    options: ["कोशी", "गण्डकी", "कर्णाली", "सप्तकोशी"],
    correct: 3,
  },
  {
    question: "नेपालको भूगोलको महत्व के हो?",
    options: ["जलवायु", "धन्य", "पर्यावरण", "जलमूल"],
    correct: 0,
  },
  {
    question: "नेपालको सबैभन्दा ठूलो मैदान कुन हो?",
    options: ["तराई", "सिद्धि", "अन्नपूर्ण", "कर्णाली"],
    correct: 0,
  },
  {
    question: "नेपालमा पाइने प्रमुख लोपोन्मुख वन्य प्रजाति कुन हो?",
    options: ["गैंडा", "बाघ", "सिंह", "सार्वजनिक"],
    correct: 0,
  },
  {
    question: "नेपालको कति प्रतिशत वन क्षेत्र छ?",
    options: ["४०%", "४२%", "३०%", "२१%"],
    correct: 1,
  }
];



let currentQuestionIndex = 0;
let score = 0;
let selectedOption = null;
let timer;
let timeLeft = 20;
let answeredQuestions = [];

// HTML Elements
const questionElement = document.getElementById("question");
const optionsElement = document.getElementById("options");
const nextBtn = document.getElementById("next-btn");
const quitBtn = document.getElementById("quit-btn");
const timerElement = document.getElementById("timer");

// Load Question
function loadQuestion() {
  if (currentQuestionIndex >= questions.length) {
    goToResultPage();
    return;
  }

  // Reset previous selection and timer
  clearInterval(timer);
  timeLeft = 20;
  updateTimer();

  // Display question and options
  const currentQuestion = questions[currentQuestionIndex];
  questionElement.textContent = currentQuestion.question;
  optionsElement.innerHTML = "";
  currentQuestion.options.forEach((option, index) => {
    const button = document.createElement("button");
    button.textContent = option;
    button.classList.add("option-btn");
    button.onclick = () => selectOption(index, button);
    optionsElement.appendChild(button);
  });

  // Start timer
  timer = setInterval(handleTimer, 1000);
}

// Handle Option Selection
function selectOption(index, button) {
  if (selectedOption !== null) return; // Prevent re-selection
  selectedOption = index;

  // Highlight selected option
  const buttons = optionsElement.querySelectorAll("button");
  buttons.forEach((btn, i) => {
    btn.style.backgroundColor = i === index ? "lightblue" : "blue";
  });

  // Check correctness
  if (index === questions[currentQuestionIndex].correct) {
    score++;
    button.classList.add("correct-option");
  } else {
    button.classList.add("wrong-option");
  }
}

// Handle Timer
function handleTimer() {
  timeLeft--;
  updateTimer();
  if (timeLeft <= 0) {
    clearInterval(timer);
    goToNextQuestion();
  }
}

// Update Timer Display
function updateTimer() {
  timerElement.textContent = `Time Left: ${timeLeft}s`;
}

// Go to Next Question
function goToNextQuestion() {
  answeredQuestions.push({
    question: questions[currentQuestionIndex].question,
    options: questions[currentQuestionIndex].options,
    correct: questions[currentQuestionIndex].correct,
    selected: selectedOption,
  });
  selectedOption = null;
  currentQuestionIndex++;
  loadQuestion();
}

// Go to Result Page
function goToResultPage() {
  clearInterval(timer);
  localStorage.setItem("answeredQuestions", JSON.stringify(answeredQuestions));
  localStorage.setItem("score", score);
  window.location.href = "result.html";
}

// Event Listeners
nextBtn.addEventListener("click", goToNextQuestion);
quitBtn.addEventListener("click", goToResultPage);

// Start Quiz
loadQuestion();
